<body>
  <div class="movie-details" *ngIf="movie">
    <div class="poster-section">
      <img class="poster" [src]="movie.Poster" [alt]="movie.Title" />
    </div>
    <div class="info-section">
      <div class="title-section">
        <h1 class="movie-title">{{ movie.Title }}</h1>
        <div class="year-rating">
          <span>{{ movie.Year }}</span>
          <span>|</span>
          <span>{{
            movie.Runtime !== "N/A" ? movie.Runtime : "Duration N/A"
          }}</span>
          <span>|</span>
          <span>{{ movie.Rated !== "N/A" ? movie.Rated : "Not Rated" }}</span>
        </div>
        <div class="genre-tags">
          <span
            class="genre-tag"
            *ngFor="let genre of movie.Genre?.split(', ')"
            >{{ genre }}</span
          >
        </div>
      </div>

      <div class="detail-group">
        <div class="detail-item">
          <span class="detail-label">Director:</span>
          <span class="detail-value">{{ movie.Director }}</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">Actors:</span>
          <span class="detail-value">{{ movie.Actors }}</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">Language:</span>
          <span class="detail-value">{{ movie.Language }}</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">Country:</span>
          <span class="detail-value">{{ movie.Country }}</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">Awards:</span>
          <span class="detail-value">{{ movie.Awards }}</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">Box Office:</span>
          <span class="detail-value">{{ movie.BoxOffice }}</span>
        </div>
        <div class="detail-item">
          <span class="detail-label">Plot:</span>
          <span class="detail-value">{{ movie.Plot }}</span>
        </div>
      </div>

      <div class="ratings-section">
        <div class="rating-item" *ngFor="let rating of movie.Ratings">
          <div class="rating-value">{{ rating.Value }}</div>
          <div class="rating-source">{{ rating.Source }}</div>
        </div>
      </div>

      <div *ngIf="isAdmin">
        <button class="delete-btn" (click)="showDeleteModal()">
          <svg viewBox="0 0 24 24">
            <path
              d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"
            />
          </svg>
          Delete Movie
        </button>
      </div>
    </div>
    <div class="modal" id="deleteModal">
      <div class="modal-content">
        <h2>Confirm Delete</h2>
        <p>Are you sure you want to delete this movie?</p>
        <div class="modal-buttons">
          <button class="modal-btn confirm-btn" (click)="deleteMovie()">
            Delete
          </button>
          <button class="modal-btn cancel-btn" (click)="hideDeleteModal()">
            Cancel
          </button>
        </div>
      </div>
    </div>
  </div>
</body>
